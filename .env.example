# ============================================================================
# FineFlow Environment Configuration Template
# ============================================================================
#
# This file contains all required environment variables for FineFlow.
# Copy this file to .env and fill in your actual values.
#
# NEVER commit .env to version control - it contains sensitive credentials!
#
# Setup Instructions:
# 1. Copy this file: cp .env.example .env
# 2. Fill in all required values (marked with *)
# 3. Optional values can be left commented out
# 4. Restart your dev server after changes
# ============================================================================

# ----------------------------------------------------------------------------
# Supabase Configuration (REQUIRED *)
# ----------------------------------------------------------------------------
# Your Supabase project credentials. Find these in:
# Supabase Dashboard → Your Project → Settings → API
# Documentation: https://supabase.com/docs/guides/getting-started

# Your Supabase project ID (found in project URL: https://<PROJECT_ID>.supabase.co)
VITE_SUPABASE_PROJECT_ID="your-project-id-here"

# Your Supabase project URL (e.g., https://xxxxx.supabase.co)
VITE_SUPABASE_URL="https://your-project-id.supabase.co"

# Supabase anonymous (public) key - safe to use in frontend
# This key has limited permissions based on Row Level Security policies
VITE_SUPABASE_PUBLISHABLE_KEY="your-anon-key-here"

# Alternative name for the same Supabase anon key (used in some components)
# Set this to the same value as VITE_SUPABASE_PUBLISHABLE_KEY
VITE_SUPABASE_ANON_KEY="your-anon-key-here"

# ----------------------------------------------------------------------------
# Internal Function Security (REQUIRED *)
# ----------------------------------------------------------------------------
# Shared secret for authenticating internal Edge Function calls
# This prevents unauthorized direct access to internal serverless functions
#
# Generate a secure random secret:
#   openssl rand -hex 32
#
# IMPORTANT: This secret must be set in BOTH:
# 1. Your local .env file (this file)
# 2. Supabase Dashboard → Edge Functions → Secrets
#
# Documentation: See INTERNAL_FUNCTION_AUTH.md

INTERNAL_FUNCTION_SECRET="your-secure-random-secret-here"

# ----------------------------------------------------------------------------
# AI Provider API Keys (REQUIRED for AI features *)
# ----------------------------------------------------------------------------
# API keys for AI model providers. These are used for document processing,
# embeddings, fine-tuning, and content generation.

# OpenAI API Key - Required for GPT models, embeddings, and fine-tuning
# Get your key: https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-your-openai-api-key-here"

# Anthropic API Key - Required for Claude models
# Get your key: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY="sk-ant-your-anthropic-api-key-here"

# Cohere API Key - Optional, for Cohere embeddings and models
# Get your key: https://dashboard.cohere.com/api-keys
COHERE_API_KEY="your-cohere-api-key-here"

# ----------------------------------------------------------------------------
# Supabase Edge Functions Secrets (Server-side only)
# ----------------------------------------------------------------------------
# These secrets are used ONLY in Supabase Edge Functions (backend).
# Set these in: Supabase Dashboard → Edge Functions → Secrets
#
# DO NOT set SUPABASE_URL or SUPABASE_ANON_KEY - these are auto-injected
# by Supabase into Edge Functions.

# Supabase Service Role Key - Full admin access (NEVER expose to frontend!)
# Used by Edge Functions for privileged operations
# Find in: Supabase Dashboard → Settings → API → service_role key
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key-here"

# ----------------------------------------------------------------------------
# Monitoring & Error Tracking (OPTIONAL)
# ----------------------------------------------------------------------------
# Production monitoring, error tracking, and observability tools

# Sentry DSN for error tracking and monitoring
# Get your DSN: https://sentry.io/settings/projects/
# Format: https://public@sentry.io/project-id
VITE_SENTRY_DSN="https://public-key@o-org.ingest.sentry.io/project-id"
SENTRY_DSN="https://public-key@o-org.ingest.sentry.io/project-id"

# Sentry release version for tracking deployments
# Automatically set by CI/CD or use package.json version
SENTRY_RELEASE="fineflow@1.0.0"

# ----------------------------------------------------------------------------
# Alert & Notification Configuration (OPTIONAL)
# ----------------------------------------------------------------------------
# Configure alert channels for system notifications

# Slack Webhook URL for alerts and notifications
# Create webhook: https://api.slack.com/messaging/webhooks
VITE_SLACK_WEBHOOK_URL="https://hooks.slack.com/services/YOUR/WEBHOOK/URL"

# Slack signing secret for webhook verification
# Find in: https://api.slack.com/apps → Your App → Basic Information
SLACK_SIGNING_SECRET="your-slack-signing-secret-here"

# Generic webhook for custom alert integrations
VITE_ALERT_WEBHOOK_URL="https://your-webhook-endpoint.com/alerts"

# API key for custom webhook authentication
VITE_ALERT_WEBHOOK_API_KEY="your-webhook-api-key-here"

# Email API configuration for email notifications
VITE_EMAIL_API_ENDPOINT="https://your-email-service.com/send"
VITE_EMAIL_API_KEY="your-email-api-key-here"

# ----------------------------------------------------------------------------
# Application Configuration (OPTIONAL)
# ----------------------------------------------------------------------------
# General application settings and feature flags

# Application version (auto-populated from package.json)
VITE_APP_VERSION="1.0.0"
APP_VERSION="1.0.0"

# Environment name (development, staging, production)
# Used for conditional behavior and monitoring
ENVIRONMENT="development"

# Soft launch mode - restrict access to beta users
# Set to "true" to enable invite-only access
VITE_SOFT_LAUNCH="false"

# ----------------------------------------------------------------------------
# Security Secrets (OPTIONAL but RECOMMENDED)
# ----------------------------------------------------------------------------
# Additional security-related secrets for encryption and API key management

# Secret for encrypting user API keys in the database
# Generate with: openssl rand -hex 32
# IMPORTANT: Never change this after users have stored API keys!
API_KEY_ENCRYPTION_SECRET="your-encryption-secret-here"

# Lovable API Key (if using Lovable.dev for development)
LOVABLE_API_KEY="your-lovable-api-key-here"

# ============================================================================
# Setup Checklist
# ============================================================================
#
# Essential (Required to run):
# [ ] VITE_SUPABASE_PROJECT_ID
# [ ] VITE_SUPABASE_URL
# [ ] VITE_SUPABASE_PUBLISHABLE_KEY
# [ ] VITE_SUPABASE_ANON_KEY (same as PUBLISHABLE_KEY)
# [ ] INTERNAL_FUNCTION_SECRET (generate with openssl)
#
# AI Features (Required for AI functionality):
# [ ] OPENAI_API_KEY
# [ ] ANTHROPIC_API_KEY (optional)
# [ ] COHERE_API_KEY (optional)
#
# Edge Functions (Required for backend):
# [ ] SUPABASE_SERVICE_ROLE_KEY (set in Supabase Dashboard)
# [ ] INTERNAL_FUNCTION_SECRET (set in Supabase Dashboard)
# [ ] OPENAI_API_KEY (set in Supabase Dashboard)
#
# Monitoring (Recommended for production):
# [ ] VITE_SENTRY_DSN
# [ ] API_KEY_ENCRYPTION_SECRET
#
# Notifications (Optional):
# [ ] VITE_SLACK_WEBHOOK_URL
# [ ] VITE_EMAIL_API_ENDPOINT & VITE_EMAIL_API_KEY
#
# ============================================================================
# Security Best Practices
# ============================================================================
#
# 1. NEVER commit .env to version control
# 2. Use different credentials for dev/staging/production
# 3. Rotate secrets regularly (especially after team member changes)
# 4. Use strong, randomly generated secrets (openssl rand -hex 32)
# 5. Restrict service role key to server-side only (Edge Functions)
# 6. Enable Supabase Row Level Security policies
# 7. Set up Supabase Auth rate limiting
# 8. Monitor Supabase logs for suspicious activity
#
# For credential rotation instructions, see: SECURITY_CHECKLIST.md
# For internal function security, see: INTERNAL_FUNCTION_AUTH.md
#
# ============================================================================
